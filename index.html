<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeMaster Pro - Typing Speed Test by Mr. Ali</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 50%, #ff4757 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .created-by {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 14px;
            opacity: 0.8;
            font-weight: 300;
        }

        .creator-logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: linear-gradient(135deg, #FFD700, #FFA500);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .main-content {
            padding: 30px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .stat-card h3 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .stat-card p {
            opacity: 0.9;
            font-size: 1rem;
            font-weight: 500;
        }

        .test-settings {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .settings-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .setting-label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .setting-select {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }

        .setting-select:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .start-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.4);
        }

        .start-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .typing-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
        }

        .text-display {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 25px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            min-height: 200px;
            position: relative;
            font-family: 'Courier New', monospace;
        }

        .text-display .char {
            position: relative;
        }

        .text-display .char.correct {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }

        .text-display .char.incorrect {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }

        .text-display .char.current {
            background: #ff6b6b;
            color: white;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .input-area {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 3px solid #e9ecef;
            border-radius: 12px;
            outline: none;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            resize: none;
            min-height: 120px;
        }

        .input-area:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .input-area:disabled {
            background: #f8f9fa;
            cursor: not-allowed;
        }

        .timer {
            font-size: 1.5rem;
            font-weight: 600;
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .results-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .results-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .results-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #333;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-item {
            padding: 20px;
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            border-radius: 12px;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .result-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .close-modal {
            padding: 12px 30px;
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .retry-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #ffa500, #ff8c00);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .leaderboard {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .leaderboard h3 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b6b, #ff4757);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
            z-index: 1000;
            transform: translateX(400px);
            transition: all 0.4s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            box-shadow: 0 10px 30px rgba(220, 53, 69, 0.3);
        }

        @media (max-width: 768px) {
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .settings-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .text-display {
                font-size: 1.1rem;
                padding: 20px;
            }
            
            .input-area {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .results-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⌨️ TypeMaster Pro</h1>
            <p>Test and improve your typing speed with precision</p>
            <div class="created-by">
                <div class="creator-logo">🧔</div>
                <span>Created by <strong>Mr. Ali</strong></span>
            </div>
        </div>
        
        <div class="main-content">
            <div class="stats-container">
                <div class="stat-card">
                    <h3 id="wpmStat">0</h3>
                    <p>Words Per Minute</p>
                </div>
                <div class="stat-card">
                    <h3 id="accuracyStat">100%</h3>
                    <p>Accuracy</p>
                </div>
                <div class="stat-card">
                    <h3 id="timeStat">60</h3>
                    <p>Time Left (sec)</p>
                </div>
                <div class="stat-card">
                    <h3 id="charactersStat">0</h3>
                    <p>Characters Typed</p>
                </div>
            </div>
            
            <div class="test-settings">
                <div class="settings-row">
                    <div class="setting-group">
                        <label class="setting-label">Test Duration</label>
                        <select class="setting-select" id="timeSelect">
                            <option value="15">15 seconds</option>
                            <option value="30">30 seconds</option>
                            <option value="60" selected>1 minute</option>
                            <option value="120">2 minutes</option>
                            <option value="300">5 minutes</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Text Type</label>
                        <select class="setting-select" id="textTypeSelect">
                            <option value="random">Random Words</option>
                            <option value="quotes">Famous Quotes</option>
                            <option value="programming">Programming</option>
                            <option value="numbers">Numbers & Symbols</option>
                        </select>
                    </div>
                    
                    <button class="start-btn" id="startBtn">Start Test</button>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 0%;"></div>
                </div>
            </div>
            
            <div class="typing-area">
                <div class="timer" id="timer">Get ready to type!</div>
                <div class="text-display" id="textDisplay"></div>
                <textarea class="input-area" id="inputArea" placeholder="Click 'Start Test' and then start typing here..." disabled></textarea>
            </div>
            
            <div class="leaderboard">
                <h3>🏆 Your Recent Scores</h3>
                <div id="leaderboardList">
                    <p style="text-align: center; color: #6c757d; font-style: italic;">No scores yet. Take a test to see your results!</p>
                </div>
            </div>
        </div>
    </div>

    <div class="results-modal" id="resultsModal">
        <div class="results-content">
            <h2 class="results-title">🎉 Test Complete!</h2>
            <div class="results-stats">
                <div class="result-item">
                    <div class="result-value" id="finalWPM">0</div>
                    <div class="result-label">WPM</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalAccuracy">0%</div>
                    <div class="result-label">Accuracy</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalCharacters">0</div>
                    <div class="result-label">Characters</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalErrors">0</div>
                    <div class="result-label">Errors</div>
                </div>
            </div>
            <div>
                <button class="close-modal" id="closeModal">Close</button>
                <button class="retry-btn" id="retryBtn">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        class TypingSpeedTest {
            constructor() {
                this.currentText = '';
                this.typedText = '';
                this.startTime = null;
                this.endTime = null;
                this.timer = null;
                this.timeLeft = 60;
                this.isActive = false;
                this.currentIndex = 0;
                this.errors = 0;
                this.totalCharacters = 0;
                
                this.textSamples = {
                    random: [
                        "the quick brown fox jumps over the lazy dog and runs through the forest with great speed and agility",
                        "technology has revolutionized the way we communicate work and live in the modern digital world today",
                        "programming requires patience practice and persistence to master the art of writing clean efficient code",
                        "artificial intelligence machine learning and data science are transforming industries across the globe rapidly"
                    ],
                    quotes: [
                        "The only way to do great work is to love what you do. Stay hungry stay foolish and never give up.",
                        "Innovation distinguishes between a leader and a follower. Think different and change the world around you.",
                        "Success is not final failure is not fatal it is the courage to continue that counts in life.",
                        "The future belongs to those who believe in the beauty of their dreams and work hard to achieve them."
                    ],
                    programming: [
                        "function calculateSum(a, b) { return a + b; } console.log(calculateSum(5, 3));",
                        "if (condition === true) { executeFunction(); } else { handleError('Invalid input'); }",
                        "const apiUrl = 'https://api.example.com/data'; fetch(apiUrl).then(response => response.json());",
                        "for (let i = 0; i < array.length; i++) { if (array[i] > threshold) { results.push(array[i]); } }"
                    ],
                    numbers: [
                        "Password123! Email@domain.com Phone: +1-555-0123 Total: $1,234.56 Date: 2024/01/15",
                        "Array[0] = {id: 1, value: 99.99, active: true, tags: ['new', 'sale']}",
                        "SELECT * FROM users WHERE age >= 18 AND status = 'active' ORDER BY created_at DESC;",
                        "HTTP/1.1 200 OK Content-Type: application/json {\"success\": true, \"data\": [1,2,3]}"
                    ]
                };
                
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.loadLeaderboard();
                this.generateText();
            }
            
            bindEvents() {
                document.getElementById('startBtn').addEventListener('click', () => this.startTest());
                document.getElementById('inputArea').addEventListener('input', (e) => this.handleInput(e));
                document.getElementById('inputArea').addEventListener('paste', (e) => e.preventDefault());
                document.getElementById('closeModal').addEventListener('click', () => this.closeResults());
                document.getElementById('retryBtn').addEventListener('click', () => this.retryTest());
                document.getElementById('textTypeSelect').addEventListener('change', () => this.generateText());
            }
            
            generateText() {
                const textType = document.getElementById('textTypeSelect').value;
                const samples = this.textSamples[textType];
                this.currentText = samples[Math.floor(Math.random() * samples.length)];
                this.displayText();
            }
            
            displayText() {
                const textDisplay = document.getElementById('textDisplay');
                textDisplay.innerHTML = '';
                
                for (let i = 0; i < this.currentText.length; i++) {
                    const span = document.createElement('span');
                    span.className = 'char';
                    span.textContent = this.currentText[i];
                    textDisplay.appendChild(span);
                }
            }
            
            startTest() {
                this.resetTest();
                this.isActive = true;
                this.startTime = Date.now();
                this.timeLeft = parseInt(document.getElementById('timeSelect').value);
                
                document.getElementById('startBtn').disabled = true;
                document.getElementById('inputArea').disabled = false;
                document.getElementById('inputArea').focus();
                document.getElementById('timer').textContent = `${this.timeLeft}s`;
                
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    document.getElementById('timer').textContent = `${this.timeLeft}s`;
                    document.getElementById('timeStat').textContent = this.timeLeft;
                    
                    const progress = ((parseInt(document.getElementById('timeSelect').value) - this.timeLeft) / parseInt(document.getElementById('timeSelect').value)) * 100;
                    document.getElementById('progressBar').style.width = `${progress}%`;
                    
                    if (this.timeLeft <= 0) {
                        this.endTest();
                    }
                }, 1000);
                
                this.showNotification('⏱️ Test started! Start typing now!', 'success');
            }
            
            handleInput(e) {
                if (!this.isActive) return;
                
                this.typedText = e.target.value;
                this.currentIndex = this.typedText.length;
                this.totalCharacters = this.typedText.length;
                
                this.updateDisplay();
                this.updateStats();
                
                // Check if test is complete
                if (this.typedText.length >= this.currentText.length) {
                    this.endTest();
                }
            }
            
            updateDisplay() {
                const chars = document.querySelectorAll('.char');
                
                chars.forEach((char, index) => {
                    char.className = 'char';
                    
                    if (index < this.typedText.length) {
                        if (this.typedText[index] === this.currentText[index]) {
                            char.classList.add('correct');
                        } else {
                            char.classList.add('incorrect');
                        }
                    } else if (index === this.typedText.length) {
                        char.classList.add('current');
                    }
                });
            }
            
            updateStats() {
                // Calculate WPM
                const timeElapsed = (Date.now() - this.startTime) / 1000 / 60; // minutes
                const wordsTyped = this.typedText.trim().split(' ').length;
                const wpm = timeElapsed > 0 ? Math.round(wordsTyped / timeElapsed) : 0;
                
                // Calculate accuracy
                let correctChars = 0;
                this.errors = 0;
                
                for (let i = 0; i < this.typedText.length; i++) {
                    if (this.typedText[i] === this.currentText[i]) {
                        correctChars++;
                    } else {
                        this.errors++;
                    }
                }
                
                const accuracy = this.typedText.length > 0 ? Math.round((correctChars / this.typedText.length) * 100) : 100;
                
                // Update display
                document.getElementById('wpmStat').textContent = wpm;
                document.getElementById('accuracyStat').textContent = `${accuracy}%`;
                document.getElementById('charactersStat').textContent = this.totalCharacters;
            }
            
            endTest() {
                if (!this.isActive) return;
                
                this.isActive = false;
                this.endTime = Date.now();
                clearInterval(this.timer);
                
                document.getElementById('startBtn').disabled = false;
                document.getElementById('inputArea').disabled = true;
                
                this.calculateFinalResults();
                this.saveScore();
                this.showResults();
                this.loadLeaderboard();
            }
            
            calculateFinalResults() {
                const timeElapsed = (this.endTime - this.startTime) / 1000 / 60; // minutes
                const wordsTyped = this.typedText.trim().split(' ').length;
                this.finalWPM = timeElapsed > 0 ? Math.round(wordsTyped / timeElapsed) : 0;
                
                let correctChars = 0;
                for (let i = 0; i < this.typedText.length; i++) {
                    if (this.typedText[i] === this.currentText[i]) {
                        correctChars++;
                    }
                }
                
                this.finalAccuracy = this.typedText.length > 0 ? Math.round((correctChars / this.typedText.length) * 100) : 100;
            }
            
            showResults() {
                document.getElementById('finalWPM').textContent = this.finalWPM;
                document.getElementById('finalAccuracy').textContent = `${this.finalAccuracy}%`;
                document.getElementById('finalCharacters').textContent = this.totalCharacters;
                document.getElementById('finalErrors').textContent = this.errors;
                
                document.getElementById('resultsModal').style.display = 'flex';
                
                // Show congratulatory notification
                if (this.finalWPM >= 40) {
                    this.showNotification('🎉 Excellent typing speed! You\'re a typing master!', 'success');
                } else if (this.finalWPM >= 25) {
                    this.showNotification('👍 Good job! Keep practicing to improve further!', 'success');
                } else {
                    this.showNotification('💪 Great start! Practice makes perfect!', 'success');
                }
            }
            
            saveScore() {
                const scores = JSON.parse(localStorage.getItem('typingScores')) || [];
                const newScore = {
                    wpm: this.finalWPM,
                    accuracy: this.finalAccuracy,
                    characters: this.totalCharacters,
                    errors: this.errors,
                    date: new Date().toLocaleDateString(),
                    time: new Date().toLocaleTimeString()
                };
                
                scores.unshift(newScore);
                scores.splice(10); // Keep only last 10 scores
                localStorage.setItem('typingScores', JSON.stringify(scores));
            }
            
            loadLeaderboard() {
                const scores = JSON.parse(localStorage.getItem('typingScores')) || [];
                const leaderboardList = document.getElementById('leaderboardList');
                
                if (scores.length === 0) {
                    leaderboardList.innerHTML = '<p style="text-align: center; color: #6c757d; font-style: italic;">No scores yet. Take a test to see your results!</p>';
                    return;
                }
                
                leaderboardList.innerHTML = scores.slice(0, 5).map((score, index) => `
                    <div class="leaderboard-item">
                        <div>
                            <strong>#${index + 1}</strong> - ${score.wpm} WPM (${score.accuracy}% accuracy)
                            <div style="font-size: 12px; color: #6c757d;">${score.date} at ${score.time}</div>
                        </div>
                        <div style="font-weight: 600;">${score.characters} chars</div>
                    </div>
                `).join('');
            }
            
            closeResults() {
                document.getElementById('resultsModal').style.display = 'none';
            }
            
            retryTest() {
                this.closeResults();
                this.generateText();
                this.startTest();
            }
            
            resetTest() {
                this.typedText = '';
                this.currentIndex = 0;
                this.errors = 0;
                this.totalCharacters = 0;
                
                document.getElementById('inputArea').value = '';
                document.getElementById('wpmStat').textContent = '0';
                document.getElementById('accuracyStat').textContent = '100%';
                document.getElementById('charactersStat').textContent = '0';
                document.getElementById('progressBar').style.width = '0%';
                
                this.displayText();
            }
            
            showNotification(message, type = 'success') {
                const existingNotification = document.querySelector('.notification');
                if (existingNotification) {
                    existingNotification.remove();
                }

                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <span>${this.getNotificationIcon(type)}</span>
                    <span>${message}</span>
                `;

                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);

                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 400);
                }, 4000);
            }
            
            getNotificationIcon(type) {
                switch (type) {
                    case 'success': return '✅';
                    case 'error': return '❌';
                    default: return '✅';
                }
            }
        }

        // Initialize the app
        const app = new TypingSpeedTest();
    </script>
</body>
</html>